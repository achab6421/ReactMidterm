{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TodoItem(_ref){let{todo,toggleComplete,deleteTodo}=_ref;const[isDeleting,setIsDeleting]=useState(false);const[isToggling,setIsToggling]=useState(false);const handleToggle=async()=>{try{setIsToggling(true);await toggleComplete(todo.id,todo.completed);}catch(error){console.error('切換狀態時發生錯誤:',error);}finally{setIsToggling(false);}};const handleDelete=async()=>{try{setIsDeleting(true);await deleteTodo(todo.id);}catch(error){console.error('刪除時發生錯誤:',error);setIsDeleting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:`todo-item ${isDeleting?'deleting':''} ${isToggling?'toggling':''}`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:todo.completed,onChange:handleToggle,disabled:isToggling||isDeleting}),/*#__PURE__*/_jsx(\"span\",{className:todo.completed?'completed':'',onClick:handleToggle,children:todo.text}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,disabled:isDeleting,children:isDeleting?'刪除中...':'刪除'})]});}export default TodoItem;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","TodoItem","_ref","todo","toggleComplete","deleteTodo","isDeleting","setIsDeleting","isToggling","setIsToggling","handleToggle","id","completed","error","console","handleDelete","className","children","type","checked","onChange","disabled","onClick","text"],"sources":["C:/laragon/www/react/todo-app/src/components/TodoItem.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction TodoItem({ todo, toggleComplete, deleteTodo }) {\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isToggling, setIsToggling] = useState(false);\r\n\r\n  const handleToggle = async () => {\r\n    try {\r\n      setIsToggling(true);\r\n      await toggleComplete(todo.id, todo.completed);\r\n    } catch (error) {\r\n      console.error('切換狀態時發生錯誤:', error);\r\n    } finally {\r\n      setIsToggling(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      setIsDeleting(true);\r\n      await deleteTodo(todo.id);\r\n    } catch (error) {\r\n      console.error('刪除時發生錯誤:', error);\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`todo-item ${isDeleting ? 'deleting' : ''} ${isToggling ? 'toggling' : ''}`}>\r\n      <input \r\n        type=\"checkbox\" \r\n        checked={todo.completed} \r\n        onChange={handleToggle} \r\n        disabled={isToggling || isDeleting}\r\n      />\r\n      <span \r\n        className={todo.completed ? 'completed' : ''}\r\n        onClick={handleToggle}\r\n      >\r\n        {todo.text}\r\n      </span>\r\n      <button \r\n        onClick={handleDelete}\r\n        disabled={isDeleting}\r\n      >\r\n        {isDeleting ? '刪除中...' : '刪除'}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TodoItem;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAuC,IAAtC,CAAEC,IAAI,CAAEC,cAAc,CAAEC,UAAW,CAAC,CAAAH,IAAA,CACpD,KAAM,CAACI,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAc,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFD,aAAa,CAAC,IAAI,CAAC,CACnB,KAAM,CAAAL,cAAc,CAACD,IAAI,CAACQ,EAAE,CAAER,IAAI,CAACS,SAAS,CAAC,CAC/C,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,YAAY,CAAEA,KAAK,CAAC,CACpC,CAAC,OAAS,CACRJ,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAM,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFR,aAAa,CAAC,IAAI,CAAC,CACnB,KAAM,CAAAF,UAAU,CAACF,IAAI,CAACQ,EAAE,CAAC,CAC3B,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,UAAU,CAAEA,KAAK,CAAC,CAChCN,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACEP,KAAA,QAAKgB,SAAS,CAAE,aAAaV,UAAU,CAAG,UAAU,CAAG,EAAE,IAAIE,UAAU,CAAG,UAAU,CAAG,EAAE,EAAG,CAAAS,QAAA,eAC1FnB,IAAA,UACEoB,IAAI,CAAC,UAAU,CACfC,OAAO,CAAEhB,IAAI,CAACS,SAAU,CACxBQ,QAAQ,CAAEV,YAAa,CACvBW,QAAQ,CAAEb,UAAU,EAAIF,UAAW,CACpC,CAAC,cACFR,IAAA,SACEkB,SAAS,CAAEb,IAAI,CAACS,SAAS,CAAG,WAAW,CAAG,EAAG,CAC7CU,OAAO,CAAEZ,YAAa,CAAAO,QAAA,CAErBd,IAAI,CAACoB,IAAI,CACN,CAAC,cACPzB,IAAA,WACEwB,OAAO,CAAEP,YAAa,CACtBM,QAAQ,CAAEf,UAAW,CAAAW,QAAA,CAEpBX,UAAU,CAAG,QAAQ,CAAG,IAAI,CACvB,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAL,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}